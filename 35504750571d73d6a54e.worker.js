!function(e){var t={};function i(l){if(t[l])return t[l].exports;var r=t[l]={i:l,l:!1,exports:{}};return e[l].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,l){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(l,r,function(t){return e[t]}.bind(null,r));return l},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="./",i(i.s=1)}([function(e){e.exports=JSON.parse('[{"name":"protection","max_level":4,"applies_to":["helmet","chestplate","leggings","boots","turtle_helmet"],"item_multiplier":1,"book_multiplier":1,"group":"protection"},{"name":"fire_protection","max_level":4,"applies_to":["helmet","chestplate","leggings","boots","turtle_helmet"],"item_multiplier":2,"book_multiplier":1,"group":"protection"},{"name":"feather_falling","max_level":4,"applies_to":["boots"],"item_multiplier":2,"book_multiplier":1},{"name":"blast_protection","max_level":4,"applies_to":["helmet","chestplate","leggings","boots","turtle_helmet"],"item_multiplier":4,"book_multiplier":2,"group":"protection"},{"name":"projectile_protection","max_level":4,"applies_to":["helmet","chestplate","leggings","boots","turtle_helmet"],"item_multiplier":2,"book_multiplier":1,"group":"protection"},{"name":"thorns","max_level":3,"applies_to":["helmet","chestplate","leggings","boots","turtle_helmet"],"item_multiplier":8,"book_multiplier":4},{"name":"respiration","max_level":3,"applies_to":["helmet","turtle_helmet"],"item_multiplier":4,"book_multiplier":2},{"name":"depth_strider","max_level":3,"applies_to":["boots"],"item_multiplier":4,"book_multiplier":2,"group":"mobility"},{"name":"aqua_affinity","max_level":1,"applies_to":["helmet","turtle_helmet"],"item_multiplier":4,"book_multiplier":2},{"name":"sharpness","max_level":5,"applies_to":["sword","axe"],"item_multiplier":1,"book_multiplier":1,"group":"attack"},{"name":"smite","max_level":5,"applies_to":["sword","axe"],"item_multiplier":2,"book_multiplier":1,"group":"attack"},{"name":"bane_of_arthropods","max_level":5,"applies_to":["sword","axe"],"item_multiplier":2,"book_multiplier":1,"group":"attack"},{"name":"knockback","max_level":2,"applies_to":["sword"],"item_multiplier":2,"book_multiplier":1},{"name":"fire_aspect","max_level":2,"applies_to":["sword"],"item_multiplier":4,"book_multiplier":2},{"name":"looting","max_level":3,"applies_to":["sword"],"item_multiplier":4,"book_multiplier":2},{"name":"efficiency","max_level":5,"applies_to":["pickaxe","shovel","axe","shears"],"item_multiplier":1,"book_multiplier":1},{"name":"silk_touch","max_level":1,"applies_to":["pickaxe","shovel","axe"],"item_multiplier":8,"book_multiplier":4,"group":"tool_type"},{"name":"unbreaking","max_level":3,"applies_to":["pickaxe","shovel","axe","fishing_rod","helmet","chestplate","leggings","boots","sword","bow","hoe","shears","flint_and_steel","carrot_on_a_stick","warped_fungus_on_a_stick","shield","elytra","turtle_helmet","trident","crossbow"],"item_multiplier":2,"book_multiplier":1},{"name":"fortune","max_level":3,"applies_to":["pickaxe","shovel","axe"],"item_multiplier":4,"book_multiplier":2,"group":"tool_type"},{"name":"power","max_level":5,"applies_to":["bow"],"item_multiplier":1,"book_multiplier":1},{"name":"punch","max_level":2,"applies_to":["bow"],"item_multiplier":4,"book_multiplier":2},{"name":"flame","max_level":1,"applies_to":["bow"],"item_multiplier":4,"book_multiplier":2},{"name":"infinity","max_level":1,"applies_to":["bow"],"item_multiplier":8,"book_multiplier":4,"group":"bow_type"},{"name":"luck_of_the_sea","max_level":3,"applies_to":["fishing_rod"],"item_multiplier":4,"book_multiplier":2},{"name":"lure","max_level":3,"applies_to":["fishing_rod"],"item_multiplier":4,"book_multiplier":2},{"name":"frost_walker","max_level":2,"applies_to":["boots"],"item_multiplier":4,"book_multiplier":2,"enchanting_table":false,"group":"mobility"},{"name":"mending","max_level":1,"applies_to":["pickaxe","shovel","axe","fishing_rod","helmet","chestplate","leggings","boots","sword","bow","hoe","shears","flint_and_steel","carrot_on_a_stick","warped_fungus_on_a_stick","shield","elytra","turtle_helmet","trident","crossbow"],"item_multiplier":4,"book_multiplier":2,"group":"bow_type","enchanting_table":false},{"name":"binding_curse","max_level":1,"applies_to":["helmet","chestplate","leggings","boots","elytra","carved_pumpkin","head","turtle_helmet"],"item_multiplier":8,"book_multiplier":4,"enchanting_table":false,"is_curse":true},{"name":"vanishing_curse","max_level":1,"applies_to":["pickaxe","shovel","axe","fishing_rod","helmet","chestplate","leggings","boots","sword","bow","hoe","shears","flint_and_steel","carrot_on_a_stick","warped_fungus_on_a_stick","shield","elytra","carved_pumpkin","head","turtle_helmet","trident","crossbow"],"item_multiplier":8,"book_multiplier":4,"enchanting_table":false,"is_curse":true},{"name":"impaling","max_level":5,"applies_to":["trident"],"item_multiplier":4,"book_multiplier":2},{"name":"riptide","max_level":3,"applies_to":["trident"],"item_multiplier":4,"book_multiplier":2,"group":"trident_type"},{"name":"loyalty","max_level":3,"applies_to":["trident"],"item_multiplier":1,"book_multiplier":1,"group":"trident_type","group_exception":"returnable"},{"name":"channeling","max_level":1,"applies_to":["trident"],"item_multiplier":8,"book_multiplier":4,"group":"trident_type","group_exception":"returnable"},{"name":"multishot","max_level":1,"applies_to":["crossbow"],"item_multiplier":4,"book_multiplier":2,"group":"crossbow_type"},{"name":"piercing","max_level":4,"applies_to":["crossbow"],"item_multiplier":1,"book_multiplier":1,"group":"crossbow_type"},{"name":"quick_charge","max_level":3,"applies_to":["crossbow"],"item_multiplier":2,"book_multiplier":1},{"name":"soul_speed","max_level":3,"applies_to":["boots"],"item_multiplier":8,"book_multiplier":4,"enchanting_table":false},{"name":"sweeping_edge","max_level":3,"applies_to":["sword"],"item_multiplier":4,"book_multiplier":2,"java_only":true}]')},function(e,t,i){"use strict";function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,l=new Array(t);i<t;i++)l[i]=e[i];return l}function r(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return l(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,l)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i.r(t),i.d(t,"combineItemsExecute",(function(){return _}));var p=i(0),m=function(e){return e<17?Math.pow(e,2)+6*e:e<31?2.5*Math.pow(e,2)-40.5*e+360:4.5*Math.pow(e,2)-162.5*e+2220},u=function(e){var t=a({},e);return t.enchantments=t.enchantments.map((function(e){return a(a({},e),p.find((function(t){return t.name===e.name})))})),t},s=function(e,t){var i=e.penalty||0,l=t.penalty||0,o=t.enchantments.filter((function(t){return function(e,t){return!e.enchantments.some((function(e){return e.group&&t.group&&e.group===t.group&&!(e.group_exception&&t.group_exception&&e.group_exception===t.group_exception)}))&&t.applies_to.some((function(t){return t===e.name||"book"===e.name}))}(e,t)})),n=function(e,t,i){return i.reduce((function(t,i){var l="book"===e.name?i.book_multiplier:i.item_multiplier,o=t.resultingEnchantments.find((function(e){return e.name===i.name})),n=i.level;if(o){var p=a({},o),m=i.level-p.level;0===m&&(m+=1,n+=1),m>0&&(t.cost+=m*l,p.level=n,t.resultingEnchantments=[].concat(r(t.resultingEnchantments.filter((function(e){return e.name!==p.name}))),[p]))}else t.resultingEnchantments=[].concat(r(t.resultingEnchantments),[i]),t.cost+=n*l;return t}),{cost:0,resultingEnchantments:r(t)})}(t,e.enchantments,o),p=a(a({},e),{},{enchantments:n.resultingEnchantments}),m=n.cost+Math.pow(2,i)-1+Math.pow(2,l)-1;return p.penalty=Math.max(i,l)+1,{resultingItem:p,cost:m,steps:[{targetItem:e,sacrificeItem:t,resultingItem:p,stepCost:m}]}};function _(e){return function e(t){t=t.map(u);var i=[];return t.forEach((function(l){var o=t.filter((function(e){return e!==l})),n=o.filter((function(e){return"book"===e.name||"book"!==l.name}));n.length>0&&n.forEach((function(t){var n=s(l,t),a=o.filter((function(e){return e!==t}));if(a.length>0){var p=e([n.resultingItem].concat(r(a)));n.resultingItem=p.resultingItem,n.cost+=p.cost,n.steps=[].concat(r(n.steps),r(p.steps))}i=[].concat(r(i),[n])}))})),i.length>0?i.reduce((function(e,t){return m(t.cost)<m(e.cost)?t:e}),i[0]):{targetItem:t[0],steps:[],status:"No items to combine"}}(e)}addEventListener("message",(function(e){var i,l=e.data,r=l.type,o=l.method,n=l.id,a=l.params;"RPC"===r&&o&&((i=t[o])?Promise.resolve().then((function(){return i.apply(t,a)})):Promise.reject("No such method")).then((function(e){postMessage({type:"RPC",id:n,result:e})})).catch((function(e){var t={message:e};e.stack&&(t.message=e.message,t.stack=e.stack,t.name=e.name),postMessage({type:"RPC",id:n,error:t})}))})),postMessage({type:"RPC",method:"ready"})}]);
//# sourceMappingURL=35504750571d73d6a54e.worker.js.map