!function(e){var t={};function i(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,i),l.l=!0,l.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)i.d(n,l,function(t){return e[t]}.bind(null,l));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="./",i(i.s=2)}([function(e){e.exports=JSON.parse('[{"name":"protection","display_name":"Protection","max_level":4,"applies_to":["helmet","chestplate","leggings","boots","turtle_helmet"],"item_multiplier":1,"book_multiplier":1,"group":"protection"},{"name":"fire_protection","display_name":"Fire Protection","max_level":4,"applies_to":["helmet","chestplate","leggings","boots","turtle_helmet"],"item_multiplier":2,"book_multiplier":1,"group":"protection"},{"name":"feather_falling","display_name":"Feather Falling","max_level":4,"applies_to":["boots"],"item_multiplier":2,"book_multiplier":1},{"name":"blast_protection","display_name":"Blast Protection","max_level":4,"applies_to":["helmet","chestplate","leggings","boots","turtle_helmet"],"item_multiplier":4,"book_multiplier":2,"group":"protection"},{"name":"projectile_protection","display_name":"Projectile Protection","max_level":4,"applies_to":["helmet","chestplate","leggings","boots","turtle_helmet"],"item_multiplier":2,"book_multiplier":1,"group":"protection"},{"name":"thorns","display_name":"Thorns","max_level":3,"applies_to":["helmet","chestplate","leggings","boots","turtle_helmet"],"item_multiplier":8,"book_multiplier":4},{"name":"respiration","display_name":"Respiration","max_level":3,"applies_to":["helmet","turtle_helmet"],"item_multiplier":4,"book_multiplier":2},{"name":"depth_strider","display_name":"Depth Strider","max_level":3,"applies_to":["boots"],"item_multiplier":4,"book_multiplier":2,"group":"mobility"},{"name":"aqua_affinity","display_name":"Aqua Affinity","max_level":1,"applies_to":["helmet","turtle_helmet"],"item_multiplier":4,"book_multiplier":2},{"name":"sharpness","display_name":"Sharpness","max_level":5,"applies_to":["sword","axe"],"item_multiplier":1,"book_multiplier":1,"group":"attack"},{"name":"smite","display_name":"Smite","max_level":5,"applies_to":["sword","axe"],"item_multiplier":2,"book_multiplier":1,"group":"attack"},{"name":"bane_of_arthropods","display_name":"Bane of Arthropods","max_level":5,"applies_to":["sword","axe"],"item_multiplier":2,"book_multiplier":1,"group":"attack"},{"name":"knockback","display_name":"Knockback","max_level":2,"applies_to":["sword"],"item_multiplier":2,"book_multiplier":1},{"name":"fire_aspect","display_name":"Fire Aspect","max_level":2,"applies_to":["sword"],"item_multiplier":4,"book_multiplier":2},{"name":"looting","display_name":"Looting","max_level":3,"applies_to":["sword"],"item_multiplier":4,"book_multiplier":2},{"name":"efficiency","display_name":"Efficiency","max_level":5,"applies_to":["pickaxe","shovel","axe","shears"],"item_multiplier":1,"book_multiplier":1},{"name":"silk_touch","display_name":"Silk Touch","max_level":1,"applies_to":["pickaxe","shovel","axe"],"item_multiplier":8,"book_multiplier":4,"group":"tool_type"},{"name":"unbreaking","display_name":"Unbreaking","max_level":3,"applies_to":["pickaxe","shovel","axe","fishing_rod","helmet","chestplate","leggings","boots","sword","bow","hoe","shears","flint_and_steel","carrot_on_a_stick","warped_fungus_on_a_stick","shield","elytra","turtle_helmet","trident","crossbow"],"item_multiplier":2,"book_multiplier":1},{"name":"fortune","display_name":"Fortune","max_level":3,"applies_to":["pickaxe","shovel","axe"],"item_multiplier":4,"book_multiplier":2,"group":"tool_type"},{"name":"power","display_name":"Power","max_level":5,"applies_to":["bow"],"item_multiplier":1,"book_multiplier":1},{"name":"punch","display_name":"Punch","max_level":2,"applies_to":["bow"],"item_multiplier":4,"book_multiplier":2},{"name":"flame","display_name":"Flame","max_level":1,"applies_to":["bow"],"item_multiplier":4,"book_multiplier":2},{"name":"infinity","display_name":"Infinity","max_level":1,"applies_to":["bow"],"item_multiplier":8,"book_multiplier":4,"group":"bow_type"},{"name":"luck_of_the_sea","display_name":"Luck of the Sea","max_level":3,"applies_to":["fishing_rod"],"item_multiplier":4,"book_multiplier":2},{"name":"lure","display_name":"Lure","max_level":3,"applies_to":["fishing_rod"],"item_multiplier":4,"book_multiplier":2},{"name":"frost_walker","display_name":"Frost Walker","max_level":2,"applies_to":["boots"],"item_multiplier":4,"book_multiplier":2,"enchanting_table":false,"group":"mobility"},{"name":"mending","display_name":"Mending","max_level":1,"applies_to":["pickaxe","shovel","axe","fishing_rod","helmet","chestplate","leggings","boots","sword","bow","hoe","shears","flint_and_steel","carrot_on_a_stick","warped_fungus_on_a_stick","shield","elytra","turtle_helmet","trident","crossbow"],"item_multiplier":4,"book_multiplier":2,"group":"bow_type","enchanting_table":false},{"name":"binding_curse","display_name":"Curse of Binding","max_level":1,"applies_to":["helmet","chestplate","leggings","boots","elytra","carved_pumpkin","head","turtle_helmet"],"item_multiplier":8,"book_multiplier":4,"enchanting_table":false,"is_curse":true},{"name":"vanishing_curse","display_name":"Curse of Vanishing","max_level":1,"applies_to":["pickaxe","shovel","axe","fishing_rod","helmet","chestplate","leggings","boots","sword","bow","hoe","shears","flint_and_steel","carrot_on_a_stick","warped_fungus_on_a_stick","shield","elytra","carved_pumpkin","head","turtle_helmet","trident","crossbow"],"item_multiplier":8,"book_multiplier":4,"enchanting_table":false,"is_curse":true},{"name":"impaling","display_name":"Impaling","max_level":5,"applies_to":["trident"],"item_multiplier":4,"book_multiplier":2},{"name":"riptide","display_name":"Riptide","max_level":3,"applies_to":["trident"],"item_multiplier":4,"book_multiplier":2,"group":"trident_type"},{"name":"loyalty","display_name":"Loyalty","max_level":3,"applies_to":["trident"],"item_multiplier":1,"book_multiplier":1,"group":"trident_type","group_exception":"returnable"},{"name":"channeling","display_name":"Channeling","max_level":1,"applies_to":["trident"],"item_multiplier":8,"book_multiplier":4,"group":"trident_type","group_exception":"returnable"},{"name":"multishot","display_name":"Multishot","max_level":1,"applies_to":["crossbow"],"item_multiplier":4,"book_multiplier":2,"group":"crossbow_type"},{"name":"piercing","display_name":"Piercing","max_level":4,"applies_to":["crossbow"],"item_multiplier":1,"book_multiplier":1,"group":"crossbow_type"},{"name":"quick_charge","display_name":"Quick Charge","max_level":3,"applies_to":["crossbow"],"item_multiplier":2,"book_multiplier":1},{"name":"soul_speed","display_name":"Soul Speed","max_level":3,"applies_to":["boots"],"item_multiplier":8,"book_multiplier":4,"enchanting_table":false},{"name":"sweeping_edge","display_name":"Sweeping Edge","max_level":3,"applies_to":["sword"],"item_multiplier":4,"book_multiplier":2,"java_only":true}]')},function(e){e.exports=JSON.parse('[{"name":"pickaxe","display_name":"Pickaxe"},{"name":"shovel","display_name":"Shovel"},{"name":"axe","display_name":"Axe"},{"name":"fishing_rod","display_name":"Fishing Rod"},{"name":"helmet","display_name":"Helmet"},{"name":"chestplate","display_name":"Chestplate"},{"name":"leggings","display_name":"Leggings"},{"name":"boots","display_name":"Boots"},{"name":"sword","display_name":"Sword"},{"name":"bow","display_name":"Bow"},{"name":"hoe","display_name":"Hoe"},{"name":"shears","display_name":"Shears"},{"name":"flint_and_steel","display_name":"Flint and Steel"},{"name":"carrot_on_a_stick","display_name":"Carrot on a Stick"},{"name":"warped_fungus_on_a_stick","display_name":"Warped Fungus on a Stick"},{"name":"shield","display_name":"Shield"},{"name":"elytra","display_name":"Elytra"},{"name":"carved_pumpkin","display_name":"Carved Pumpkin"},{"name":"head","display_name":"Head"},{"name":"turtle_helmet","display_name":"Turtle Helmet"},{"name":"trident","display_name":"Trident"},{"name":"crossbow","display_name":"Crossbow"},{"name":"book","display_name":"Book"}]')},function(e,t,i){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function l(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i.r(t),i.d(t,"combineItemsExecute",(function(){return u}));var m=i(0),p=(i(1),function(e){var t=o({},e);return t.enchantments=t.enchantments.map((function(e){return o(o({},e),m.find((function(t){return t.name===e.name})))})),t}),s=function(e,t,i){return i.reduce((function(t,i){var n="book"===e.name?i.book_multiplier:i.item_multiplier,a=t.resultingEnchantments.find((function(e){return e.name===i.name})),r=i.level;if(a){var m=o({},a),p=i.level-m.level;0===p&&m.max_level>m.level&&(p+=1,r+=1),p>0&&(t.cost+=p*n,m.level=r,t.resultingEnchantments=[].concat(l(t.resultingEnchantments.filter((function(e){return e.name!==m.name}))),[m]))}else t.resultingEnchantments=[].concat(l(t.resultingEnchantments),[i]),t.cost+=r*n;return t}),{cost:0,resultingEnchantments:l(t)})},_=function e(t){t=t.map(p);var i=[];return t.forEach((function(n){var a=t.filter((function(e){return e!==n})),r=a.filter((function(e){return"book"===e.name||"book"!==n.name}));r.length>0&&("book"===n.name&&(r=[r.reduce((function(e,t){return s(t,n.enchantments,t.enchantments).cost<s(e,n.enchantments,e.enchantments).cost?t:e}),r[0])]),r.forEach((function(t){var r=function(e,t){var i=e.penalty||0,n=t.penalty||0,l=t.enchantments.filter((function(t){return function(e,t){return!e.enchantments.some((function(e){return e.name!==t.name&&e.group&&t.group&&e.group===t.group&&!(e.group_exception&&t.group_exception&&e.group_exception===t.group_exception)}))&&(t.applies_to.some((function(t){return t===e.name}))||"book"===e.name)}(e,t)}));if(!function(e,t){return!e.filter((function(e){return!t.includes(e)})).some((function(e){return e.preserve}))}(t.enchantments,l))return{error:!0,status:"Preserved enchantments have been lost"};var a,r=s(t,e.enchantments,l),m=o(o({},e),{},{enchantments:r.resultingEnchantments}),p=r.cost+Math.pow(2,i)-1+Math.pow(2,n)-1;return m.penalty=Math.max(i,n)+1,{resultingItem:m,cost:p,exp:(a=p,a<17?Math.pow(a,2)+6*a:a<31?2.5*Math.pow(a,2)-40.5*a+360:4.5*Math.pow(a,2)-162.5*a+2220),steps:[{targetItem:e,sacrificeItem:t,resultingItem:m,stepCost:p}]}}(n,t);if(!r.error){var m=a.filter((function(e){return e!==t}));if(m.length>0){var p=e([r.resultingItem].concat(l(m)));if(p.error)return;r.resultingItem=p.resultingItem,r.cost+=p.cost,r.exp+=p.exp,r.steps=[].concat(l(r.steps),l(p.steps))}i=[].concat(l(i),[r])}})))})),i.length>0?i.reduce((function(e,t){return t.exp<e.exp?t:e}),i[0]):{targetItem:t[0],steps:[],error:!0,status:"No items or items cannot be combined."}};function u(e){return _(e)}addEventListener("message",(function(e){var i,n=e.data,l=n.type,a=n.method,r=n.id,o=n.params;"RPC"===l&&a&&((i=t[a])?Promise.resolve().then((function(){return i.apply(t,o)})):Promise.reject("No such method")).then((function(e){postMessage({type:"RPC",id:r,result:e})})).catch((function(e){var t={message:e};e.stack&&(t.message=e.message,t.stack=e.stack,t.name=e.name),postMessage({type:"RPC",id:r,error:t})}))})),postMessage({type:"RPC",method:"ready"})}]);
//# sourceMappingURL=d9291367df562acbc17a.worker.js.map